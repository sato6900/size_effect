# 暗号資産サイズ効果トレード戦略
## 14日リターンベース Large Long / Small Short 戦略

---

## 📊 戦略概要

### 戦略名
**14D Size Effect Momentum-Reversal Strategy**

### 戦略コンセプト
分析結果に基づき、暗号資産市場における「サイズ効果」を活用した複合戦略：
- **大型銘柄**: 14日間上昇した銘柄の継続性（モメンタム）を活用 → **Long**
- **小型銘柄**: 14日間上昇した銘柄の反転性（リバーサル）を活用 → **Short**

### 理論的根拠
1. **大型銘柄 (Large Cap)**: 機関投資家の資金流入により上昇トレンドが継続しやすい
2. **小型銘柄 (Small Cap)**: 個人投資家の感情的売買により上昇後は利益確定売りが発生

---

## 🎯 エントリー条件

### シグナル生成
1. **日次更新**: 毎日UTC 00:00（JST 09:00）にシグナル更新
2. **出来高フィルタ**: 過去14日の平均出来高が1M以上の銘柄をフィルタする
3. **14日リターン計算**: 過去14日間の累積リターンを算出
4. **サイズ分類**: 平均出来高でLarge/Middle/Smallに3分割
5. **分位分類**: 各サイズグループ内で14日リターンの5分位に分類

### Long エントリー (Large Q5)
- **対象**: 大型銘柄（出来高上位33%）
- **条件**: 14日リターンが上位20%（Q5分位）
- **期待**: モメンタム継続による翌日上昇

### Short エントリー (Small Q5)  
- **対象**: 小型銘柄（出来高下位33%）
- **条件**: 14日リターンが上位20%（Q5分位）
- **期待**: リバーサル発生による翌日下落

---

## ⏰ エグジット条件

### 時間ベースエグジット
- **基本保有期間**: 1日（翌日UTC 00:00に決済）
- **理由**: 分析は翌日リターンに基づくため

<!-- ### リスクベースエグジット（推奨）
- **損切り**: -3%で強制決済
- **利確**: +2%で利確決済
- **理由**: 暗号資産の高ボラティリティ対応

### 緊急エグジット
- **マーケット異常時**: VIX相当指標が異常値
- **流動性枯渇時**: 出来高が平均の20%以下 -->

---

## 💰 ポジションサイジング

### 基本アロケーション
```
総資金の100% = 戦略資金
├── Long側(Large Q5): 50%
└── Short側(Small Q5): 50%
```

### 個別銘柄サイジング
- **等ウェイト**: 各銘柄均等配分

---

## ⚡ 実装方法

### データ取得・更新
```python
# 毎日実行するスケジュール
def daily_signal_update():
    # 1. 過去14日の価格データ取得
    # 2. サイズ分類の更新（週次）
    # 3. 14日リターン計算
    # 4. Q5銘柄の特定
    # 5. ポジション調整指示生成
```

### 対象取引所
- **主要**: Binance Futures (流動性・手数料優位)
- **補完**: Bybit, OKX (リスク分散)

### 実行タイミング
```
UTC 00:30 - データ取得・シグナル生成
UTC 01:00 - ポジション調整実行
UTC 01:30 - リスクチェック・レポート生成
```

---

## ⚠️ リスク管理

### 主要リスク
1. **市場リスク**: 暗号資産市場全体の急落
2. **流動性リスク**: 小型銘柄の取引コスト増大
3. **モデルリスク**: サイズ効果の一時的消失

### リスク軽減策

#### 1. ポートフォリオレベル
- **最大エクスポージャー**: 総資金の15%以下
- **相関制限**: 同一セクター銘柄は30%以下
- **ストップロス**: 累積損失-5%で一時停止

#### 2. 銘柄レベル
```python
# 個別銘柄リスクチェック
def risk_check(symbol):
    # 出来高チェック: 平均の50%以上
    # スプレッドチェック: 0.1%以下
    # ニュースチェック: 重大発表なし
    # テクニカル: RSIオーバーブラッド/ソールド除外
```

#### 3. システムレベル
- **通信障害対策**: 複数API経路確保
- **実行遅延監視**: 1分以上で異常アラート
- **資金管理**: 証拠金維持率150%以上

---

## 📈 パフォーマンス監視

### 日次チェック項目
- [ ] ポジション状況確認
- [ ] P&L計算・記録
- [ ] リスク指標更新
- [ ] 実行ログ確認

### 週次レビュー
- [ ] 戦略パフォーマンス評価
- [ ] サイズ分類の妥当性確認
- [ ] 取引コスト分析
- [ ] 新規銘柄スクリーニング

### 月次最適化
- [ ] パラメータ調整検討
- [ ] 資金配分見直し
- [ ] ベンチマーク比較
- [ ] 戦略改善提案

---

## 🛠️ 技術要件

### システム構成
```
Trading System
├── Data Layer: CCXT + Custom API
├── Signal Layer: Pandas + NumPy analysis
├── Execution Layer: Exchange APIs
├── Risk Layer: Real-time monitoring
└── Report Layer: Performance dashboard
```

